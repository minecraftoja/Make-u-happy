<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P치gina Interactiva</title>
    <style>
        body {
            background-color: black;
            color: white;
            text-align: center;
            padding: 50px;
        }
        #botonNo {
            font-size: 16px;
        }
        canvas {
            margin-top: 20px;
        }
        .boton-extra {
            margin-top: 10px;
            font-size: 16px;
            padding: 10px 20px;
            border: none;
            background-color: gold;
            color: black;
            border-radius: 5px;
            cursor: pointer;
        }
        .boton-extra:hover {
            background-color: darkorange;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1 id="texto">Holaaaaaaa presiona el bot칩n porfas.</h1>
    <button id="boton" onclick="cambiarTexto()">Presionar</button>
    <div id="botonesExtra"></div>
    <canvas id="grafica" width="400" height="200" style="display:none;"></canvas>
    <div id="botonesGraficas" style="display:none;">
        <button class="boton-extra" onclick="quitarGraficas()">:0</button>
    </div>
    <div id="botonTeGusto" style="display:none;">
        <button class="boton-extra" onclick="mensajeFinal()">쯊e gust칩?</button>
    </div>

    <script>
        let estado = 0;
        let intentosNo = 0; // Contador de intentos para el bot칩n "No"

        function cambiarTexto() {
            const texto = document.getElementById('texto');
            const boton = document.getElementById('boton');
            const botonesExtra = document.getElementById('botonesExtra');

            if (estado === 0) {
                texto.innerText = 'Esto fue bastante dif칤cil :,c de hacer gracias por estar aqu칤 presiona de nuevo.';
                estado++;
            } else if (estado === 1) {
                texto.innerText = 'Tom칠 un poco de mi tiempo para hacer esto. Recuerdo que dijiste que te costaba mantener ahora un poco la atenci칩n, as칤 que para darte este gran mensaje quiero asegurarme de captar tu atenci칩n.';
                estado++;
            } else if (estado === 2) {
                texto.innerText = 'Elige un bot칩n para responder, 쯈uieres saber qu칠 quer칤a decirte? (intenta decir que no primero ;p).';
                boton.style.display = 'none';
                botonesExtra.innerHTML = '<button id="botonSi" onclick="elegirSi()">S칤</button> <button id="botonNo" onclick="elegirNo()">No</button>';
                estado++;
            }
        }

        function elegirNo() {
            const botonNo = document.getElementById('botonNo');
            const texto = document.getElementById('texto');

            intentosNo++;
            if (intentosNo < 3) {
                // Reducir tama침o del bot칩n
                let fontSize = parseInt(window.getComputedStyle(botonNo).fontSize);
                botonNo.style.fontSize = (fontSize - 2) + 'px';
                texto.innerText = `쯉egura chaparrita? Intento ${intentosNo} de 3.`;
            } else {
                // Mostrar mensaje final y ocultar bot칩n "No"
                texto.innerText = 'Sab칤a que ibas a decir que s칤 de todos modos :p';
                botonNo.style.display = 'none';
            }
        }

        function elegirSi() {
            const texto = document.getElementById('texto');
            const botonesExtra = document.getElementById('botonesExtra');
            const grafica = document.getElementById('grafica');
            const botonesGraficas = document.getElementById('botonesGraficas');

            texto.innerText = 'Solo quer칤a recordarte que eres maravillosa, incre칤ble, divertida, inteligente, pero yo s칠 que ya sabes eso. Pero mira las estad칤sticas.';
            botonesExtra.innerHTML = '';
            grafica.style.display = 'block';
            botonesGraficas.style.display = 'block';
            dibujarGrafica();
        }

        function dibujarGrafica() {
            const ctx = document.getElementById('grafica').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['L@s dem치s', 'Sarah'],
                    datasets: [{
                        label: 'Nivel de Genialidad',
                        data: [0.5, 200],
                        backgroundColor: ['blue', 'gold']
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        function quitarGraficas() {
            const texto = document.getElementById('texto');
            const grafica = document.getElementById('grafica');
            const botonesGraficas = document.getElementById('botonesGraficas');
            const botonTeGusto = document.getElementById('botonTeGusto');

            texto.innerText = 'Los datos no mienten, eres s칰per incre칤ble. You are the boss girl 游땙';
            grafica.style.display = 'none';
            botonesGraficas.style.display = 'none';
            botonTeGusto.style.display = 'block'; // Mostrar el bot칩n "쯊e gust칩?"
        }

        function mensajeFinal() {
            const texto = document.getElementById('texto');
            texto.innerText = 'Responde en Whats :P Espero haber podido sacarte aunque sea una sonrisa. Eres muy especial para m칤, espero esto, aunque sea peque침o, sea importante tanto como las listas de m칰sica 游땕';
        }
    </script>
</body>
</html>
